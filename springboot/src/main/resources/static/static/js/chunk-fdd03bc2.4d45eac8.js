(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdd03bc2"],{"0468":function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"d",(function(){return l})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var r=o("b775");function n(t){return Object(r["b"])("/qu/repo/detail",t)}function l(t){return Object(r["b"])("/qu/repo/save",t)}function a(t){return Object(r["b"])("/qu/repo/list",t)}function i(t){return Object(r["b"])("/qu/repo/batch-action",t)}},"4a02":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-select",{staticClass:"filter-item",attrs:{filterable:"",remote:"",multiple:t.multi,"reserve-keyword":"",clearable:"","automatic-dropdown":"",placeholder:"选择或搜索题库","remote-method":t.fetchData},on:{change:t.handlerChange},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},t._l(t.catalogs,(function(t){return o("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)},n=[],l=o("0468"),a={name:"RepoSelect",props:{multi:Boolean,value:Array,default:String},data:function(){return{catalogs:[],currentValue:[]}},watch:{value:{handler:function(){this.currentValue=this.value}}},created:function(){this.currentValue=this.value,this.fetchData()},methods:{fetchData:function(){var t=this;Object(l["c"])({}).then((function(e){t.catalogs=e.data}))},handlerChange:function(t){this.$emit("change",t),this.$emit("input",t)}}},i=a,c=o("2877"),s=Object(c["a"])(i,r,n,!1,null,null,null);e["a"]=s.exports},"67d1":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"postForm",attrs:{model:t.postForm,rules:t.rules,"label-position":"left","label-width":"120px"}},[o("el-card",[o("el-form-item",{attrs:{label:"规则名称",prop:"title"}},[o("el-input",{model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title",e)},expression:"postForm.title"}})],1),o("el-form-item",{attrs:{label:"客观题分数",prop:"objScore"}},[o("el-input-number",{attrs:{controls:!1,min:0,max:200},on:{change:t.handleScoreChange},model:{value:t.postForm.objScore,callback:function(e){t.$set(t.postForm,"objScore",e)},expression:"postForm.objScore"}})],1),o("el-form-item",{attrs:{label:"总分数",prop:"totalScore"}},[o("el-input-number",{staticStyle:{width:"200px"},attrs:{controls:!1,readonly:""},model:{value:t.postForm.totalScore,callback:function(e){t.$set(t.postForm,"totalScore",e)},expression:"postForm.totalScore"}})],1),o("el-form-item",{attrs:{label:"及格分",prop:"qualifyScore"}},[o("el-input-number",{attrs:{controls:!1},model:{value:t.postForm.qualifyScore,callback:function(e){t.$set(t.postForm,"qualifyScore",e)},expression:"postForm.qualifyScore"}})],1),o("el-form-item",{attrs:{label:"考试时长(分钟)",prop:"totalTime"}},[o("el-input-number",{attrs:{controls:!1},model:{value:t.postForm.totalTime,callback:function(e){t.$set(t.postForm,"totalTime",e)},expression:"postForm.totalTime"}})],1)],1),o("div",{staticClass:"filter-container",staticStyle:{"margin-top":"15px"}},[o("el-button",{staticClass:"filter-item",attrs:{size:"small",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v(" 添加题库 ")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.postForm.repoList,border:!0}},[o("el-table-column",{attrs:{label:"题库",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("repo-select",{attrs:{multi:!1},model:{value:e.row.repoId,callback:function(o){t.$set(e.row,"repoId",o)},expression:"scope.row.repoId"}})]}}])}),o("el-table-column",{attrs:{label:"单选题数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.row.radioCount,callback:function(o){t.$set(e.row,"radioCount",o)},expression:"scope.row.radioCount"}})]}}])}),o("el-table-column",{attrs:{label:"单选题分数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.row.radioScore,callback:function(o){t.$set(e.row,"radioScore",o)},expression:"scope.row.radioScore"}})]}}])}),o("el-table-column",{attrs:{label:"多选题数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.row.multiCount,callback:function(o){t.$set(e.row,"multiCount",o)},expression:"scope.row.multiCount"}})]}}])}),o("el-table-column",{attrs:{label:"多选题分数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.row.multiScore,callback:function(o){t.$set(e.row,"multiScore",o)},expression:"scope.row.multiScore"}})]}}])}),o("el-table-column",{attrs:{label:"删除",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(o){return t.removeItem(e.$index)}}})]}}])})],1),o("div",{staticStyle:{"margin-top":"20px"}},[o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保存")]),o("el-button",{attrs:{type:"info"},on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},n=[],l=o("b2fe"),a=o("4a02"),i={name:"RuleDetail",components:{RepoSelect:a["a"]},data:function(){return{postForm:{repoList:[],totalScore:0,subjScore:0,objScore:0},rules:{title:[{required:!0,message:"规则标题不能为空！"}],totalScore:[{required:!0,message:"总分数不能为空"}],objScore:[{required:!0,message:"客观题分数不能为空"}],qualifyScore:[{required:!0,message:"及格分不能为空"}],totalTime:[{required:!0,message:"考试时长不能为空"}]}}},created:function(){var t=this.$route.params.id;"undefined"!==typeof t&&this.fetchData(t)},methods:{handleScoreChange:function(){this.postForm.totalScore=this.postForm.objScore+this.postForm.subjScore},handleAdd:function(){this.postForm.repoList.push({isRight:!1,content:"",analysis:""})},removeItem:function(t){this.postForm.repoList.splice(t,1)},fetchData:function(t){var e=this;Object(l["a"])(t).then((function(t){e.postForm=t.data}))},submitForm:function(){var t=this;console.log(JSON.stringify(this.postForm)),this.$refs.postForm.validate((function(e){e&&Object(l["c"])(t.postForm).then((function(e){t.postForm=e.data,t.$notify({title:"成功",message:"考试规则保存成功！",type:"success",duration:2e3}),t.$router.push({name:"ListRule"})}))}))},onCancel:function(){this.$router.push({name:"ListRule"})}}},c=i,s=o("2877"),u=Object(s["a"])(c,r,n,!1,null,"236f6fe8",null);e["default"]=u.exports},b2fe:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"c",(function(){return l})),o.d(e,"b",(function(){return a}));var r=o("b775");function n(t){return Object(r["b"])("/paper/rule/detail",{id:t})}function l(t){return Object(r["b"])("/paper/rule/save",t)}function a(){return Object(r["b"])("/paper/rule/list",{})}}}]);